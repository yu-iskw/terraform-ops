digraph terraform_plan {
  rankdir=TB;
  node [shape=box, style=filled, fontname="Arial"];
  edge [fontname="Arial"];

  subgraph cluster_root {
    label="root";
    style=filled;
    color=lightgrey;

    random_id_deployment_id [label="random_id.deployment_id\n[create]", fillcolor=lightgreen, shape=box];
    random_password_app_secret [label="random_password.app_secret\n[create]", fillcolor=lightgreen, shape=box];
    random_string_session_token [label="random_string.session_token\n[create]", fillcolor=lightgreen, shape=box];
    random_uuid_correlation_id [label="random_uuid.correlation_id\n[create]", fillcolor=lightgreen, shape=box];
    output_db_user [label="output.db_user\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_network_id [label="output.network_id\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_resource_prefix [label="output.resource_prefix\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_session_token [label="output.session_token\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_web_instance_external_ip [label="output.web_instance_external_ip\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_web_instance_id [label="output.web_instance_id\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_app_secret [label="output.app_secret\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_correlation_id [label="output.correlation_id\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_db_instance_connection_name [label="output.db_instance_connection_name\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_db_name [label="output.db_name\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_deployment_id [label="output.deployment_id\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_deployment_tag [label="output.deployment_tag\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_random_summary [label="output.random_summary\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    output_subnet_id [label="output.subnet_id\n[no-op]", fillcolor=lightsteelblue, shape=invhouse];
    var_zone [label="var.zone\n[no-op]", fillcolor=lightyellow, shape=cylinder];
    var_project [label="var.project\n[no-op]", fillcolor=lightyellow, shape=cylinder];
    var_region [label="var.region\n[no-op]", fillcolor=lightyellow, shape=cylinder];
  }

  subgraph cluster_module_app {
    label="module.app";
    style=filled;
    color=lightgrey;

    module_app_google_compute_firewall_web [label="module.app.google_compute_firewall.web\n[create]", fillcolor=lightgreen, shape=box];
    module_app_google_compute_instance_web [label="module.app.google_compute_instance.web\n[create]", fillcolor=lightgreen, shape=box];
  }

  subgraph cluster_module_network {
    label="module.network";
    style=filled;
    color=lightgrey;

    module_network_google_compute_network_main [label="module.network.google_compute_network.main\n[create]", fillcolor=lightgreen, shape=box];
    module_network_google_compute_subnetwork_public [label="module.network.google_compute_subnetwork.public\n[create]", fillcolor=lightgreen, shape=box];
  }

  subgraph cluster_module_app_module_database {
    label="module.app.module.database";
    style=filled;
    color=lightgrey;

    module_app_module_database_google_sql_database_app [label="module.app.module.database.google_sql_database.app\n[create]", fillcolor=lightgreen, shape=box];
    module_app_module_database_google_sql_database_instance_main [label="module.app.module.database.google_sql_database_instance.main\n[create]", fillcolor=lightgreen, shape=box];
    module_app_module_database_google_sql_user_app [label="module.app.module.database.google_sql_user.app\n[create]", fillcolor=lightgreen, shape=box];
  }

  random_password_app_secret -> random_id_deployment_id;
  random_string_session_token -> random_id_deployment_id;
  random_uuid_correlation_id -> random_id_deployment_id;
  module_app_module_database_google_sql_database_instance_main -> module_network_google_compute_network_main;
  module_app_module_database_google_sql_user_app -> module_network_google_compute_network_main;
  module_app_google_compute_firewall_web -> module_network_google_compute_network_main;
  module_app_google_compute_instance_web -> module_network_google_compute_network_main;
  module_app_module_database_google_sql_database_app -> module_network_google_compute_network_main;
  module_app_google_compute_firewall_web -> module_network_google_compute_subnetwork_public;
  module_app_google_compute_instance_web -> module_network_google_compute_subnetwork_public;
  module_app_module_database_google_sql_database_app -> module_network_google_compute_subnetwork_public;
  module_app_module_database_google_sql_database_instance_main -> module_network_google_compute_subnetwork_public;
  module_app_module_database_google_sql_user_app -> module_network_google_compute_subnetwork_public;
  module_app_module_database_google_sql_database_app -> module_app_module_database_google_sql_database_instance_main;
  module_app_module_database_google_sql_user_app -> module_app_module_database_google_sql_database_instance_main;
  module_network_google_compute_subnetwork_public -> module_network_google_compute_network_main;
}
